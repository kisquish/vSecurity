# master playbook

#- hosts: redhat #si ne marche pas, tester airbus_ansiblemanagement_Target_RedHat au lieu de tag_airbus_ansiblemanagement_Target_RedHat
  #user: ec2-user
  #roles:
    #- rhel-prerequisites
    #- rhel7-stig-server-remediate
#
#- hosts: centos #si ne marche pas, tester airbus_ansiblemanagement_Target_CentOS au lieu de tag_airbus_ansiblemanagement_Target_CentOS
  #user: centos
  #roles:
    #- cent-prerequisites
    #- cent7-stig-server-remediate
#
#- hosts: centos
  #user: centos
  #roles:
    #- cent7-security-patch

# - hosts: redhat7
#   user: ec2-user
#   roles:
#     - rhel-prerequisites
#     - rhel7-stig-server-scan
# #    - rhel7-stig-server-remediate
#     - setTimeZone


- hosts: redhat6
  user: ec2-user
  roles:
    - rhel-prerequisites
    - rhel6-stig-server-scan
#    - rhel6-stig-server-remediate
    - setTimeZone


# - hosts: ubuntu
#   user: ubuntu
#   roles:
#     - ubun-prerequisites

# - name: test
#   hosts: centos
#   user: centos
#   roles:
#     - { role: cent7-security-patch, when: executionHour is defined and executionDay is defined and executionTimezone is defined and executionHour == ansible_date_time.hour and executionDay == ansible_date_time.weekday and executionTimezone == ansible_date_time.tz}

# - name: test
#   hosts: centos
#   user: centos
#   roles:
#     - { role: cent7-security-patch, when: executionHour is defined and executionDay is defined and executionHour == ansible_date_time.hour and executionDay == ansible_date_time.weekday}

# - name: test
#   hosts: centos
#   user: centos
#   roles:
#     - role: cent7-security-patch

# - hosts: redhat
#   user: ec2-user
#   roles:
#     - setTimeZone

# - hosts: centos
#   user: centos
#   roles:
#     - setTimeZone